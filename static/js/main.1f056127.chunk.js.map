{"version":3,"sources":["components/Cart/Checkout.module.css","components/Cart/Cart.module.css","components/Cart/CartItem.module.css","components/Layout/HeaderCartButton.module.css","components/Layout/Header.module.css","components/Meals/MealItem/MealItem.module.css","components/UI/Modal.module.css","components/Meals/MealsSummary.module.css","components/UI/Card.module.css","components/UI/Input.module.css","components/Meals/MealItem/MealItemForm.module.css","components/Meals/AvailableMeals.module.css","components/Cart/CartIcon.js","store/cart-context.js","components/Layout/HeaderCartButton.js","assets/table-hero.jpg","components/Layout/Header.js","components/Meals/MealsSummary.js","components/UI/Card.js","components/UI/Input.js","components/Meals/MealItem/MealItemForm.js","components/Meals/MealItem/MealItem.js","hooks/use-http.js","components/Meals/AvailableMeals.js","components/Meals/Meals.js","components/Cart/CartItem.js","components/UI/Modal.js","hooks/use-input.js","components/Cart/Checkout.js","components/Cart/Cart.js","store/CartProvider.js","App.js","index.js"],"names":["module","exports","CartIcon","xmlns","viewBox","fill","d","CartContext","React","createContext","items","totalAmount","addItem","item","removeItem","id","clearCart","HeaderCartButton","props","useState","isBtnBump","setIsBtnBump","useContext","numberOfItemsInCart","reduce","accumulator","amount","btnClasses","classes","button","bump","useEffect","length","timer","setTimeout","clearTimeout","className","onClick","onToggleCart","icon","badge","Header","header","logo","src","mealsImage","alt","MealsSummary","summary","Card","card","children","Input","forwardRef","ref","input","htmlFor","label","MealItemForm","isAmountValid","setIsAmountValid","amountInputRef","useRef","form","onSubmit","ev","preventDefault","enteredAmount","current","value","enteredAmountNumber","trim","onAddToCart","type","min","max","step","defaultValue","MealItem","price","toFixed","cartCtx","meal","name","description","useHttp","isLoading","setIsLoading","error","setError","sendRequest","useCallback","requestConfig","dataFunc","a","fetch","url","method","headers","body","JSON","stringify","response","ok","Error","json","data","message","AvailableMeals","meals","setMeals","hasError","fetchMeals","process","dataObj","loadedMeals","key","push","title","mealsList","map","content","Meals","CartItem","actions","onRemoveItem","onAddItem","Backdrop","backdrop","ModalOverlay","modal","portalElement","document","getElementById","Modal","ReactDOM","createPortal","useInput","validateValue","isInputTouched","setIsInputTouched","enteredValue","setEnteredValue","isEnteredValueValid","isValid","inputChangeHandler","target","inputBlurHandler","clearInput","checkIsNotEmpty","checkIs16","Checkout","enteredName","isNameValid","nameHasError","nameChangeHandler","nameBlurHandler","clearNameInput","enteredStreet","isStreetValid","streetHasError","streetChangeHandler","streetBlurHandler","clearStreetInput","enteredCity","isCityValid","cityHasError","cityChangeHandler","cityBlurHandler","clearCityInput","enteredCreditCard","isCardValid","cardHasError","cardChangeHandler","cardBlurHandler","clearCardInput","isFormValid","nameControlClasses","control","invalid","streetControlClasses","cityControlClasses","cardControlClasses","onSubmitOrder","street","postalCode","city","onChange","onBlur","onCancel","submit","Cart","isCheckout","setIsCheckout","isSubmitting","setIsSubmitting","didSubmitted","setDidIsSubmitted","hasItems","addCartItemHandler","removeCartItemHamdler","confirmOrder","cartrItems","bind","modalActions","modalContent","total","userData","orderDetails","isSubmittingModalContent","didSubmittedModalContent","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","App","isCartShown","setIsCartShown","isInOrder","setIsInOrder","toggleCartHandler","onToggleOrder","require","config","render"],"mappings":"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","file":"static/js/main.1f056127.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Checkout_form__3cPZ8\",\"control\":\"Checkout_control__33PgJ\",\"actions\":\"Checkout_actions__1R6wa\",\"submit\":\"Checkout_submit__1nTk7\",\"invalid\":\"Checkout_invalid__2qnho\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__3r3ZG\",\"total\":\"Cart_total__yRdrJ\",\"actions\":\"Cart_actions__3M8yX\",\"button--alt\":\"Cart_button--alt__2hQXN\",\"button\":\"Cart_button__2VoED\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__3sicx\",\"summary\":\"CartItem_summary__Mo0jP\",\"price\":\"CartItem_price__1MZHx\",\"amount\":\"CartItem_amount__2XMup\",\"actions\":\"CartItem_actions__1ZHY2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__3pCQc\",\"icon\":\"HeaderCartButton_icon__T2JHv\",\"badge\":\"HeaderCartButton_badge__2-yTb\",\"bump\":\"HeaderCartButton_bump__2CnB9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3-DI9\",\"logo\":\"Header_logo__9Seqb\",\"main-image\":\"Header_main-image__2--Hb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meal\":\"MealItem_meal__3K88a\",\"description\":\"MealItem_description__3ko2n\",\"price\":\"MealItem_price__2gxxC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2LlIb\",\"modal\":\"Modal_modal__HeCe5\",\"slide-down\":\"Modal_slide-down__2qJZg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"summary\":\"MealsSummary_summary__19pYA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3pkBH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__1Mw8S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"MealItemForm_form__3SKOo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"meals\":\"AvailableMeals_meals__DR8bc\",\"meals-appear\":\"AvailableMeals_meals-appear__2O7xM\"};","  \r\nconst CartIcon = () => {\r\n    return (\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        viewBox='0 0 20 20'\r\n        fill='currentColor'\r\n      >\r\n        <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\r\n      </svg>\r\n    );\r\n  };\r\n  \r\n  export default CartIcon;","import React from 'react';\r\n\r\nconst CartContext = React.createContext({\r\n    items: [],\r\n    totalAmount: 0,\r\n    addItem: (item) => { },\r\n    removeItem: (id) => { },\r\n    clearCart: () => { },\r\n});\r\n\r\nexport default CartContext;","import React, { useContext, useEffect, useState } from 'react';\r\nimport CartIcon from '../Cart/CartIcon';\r\nimport CartContext from '../../store/cart-context';\r\n\r\nimport classes from './HeaderCartButton.module.css'\r\n\r\nconst HeaderCartButton = props => {\r\n    const [isBtnBump, setIsBtnBump] = useState(false);\r\n    const cartCtx = useContext(CartContext);\r\n    const { items } = cartCtx;\r\n    const numberOfItemsInCart = items.reduce((accumulator, item) => {\r\n        return accumulator + item.amount;\r\n    }, 0);\r\n\r\n    const btnClasses = `${classes.button} ${isBtnBump ? classes.bump : ''}`;\r\n\r\n    useEffect(() => {\r\n        if (items.length === 0) return;\r\n        setIsBtnBump(true);\r\n        const timer = setTimeout(() => {\r\n            setIsBtnBump(false);\r\n        }, 300);\r\n\r\n        return () => {\r\n            clearTimeout(timer);\r\n        };\r\n    }, [items]);\r\n\r\n    return (\r\n        <button className={btnClasses} onClick={props.onToggleCart}>\r\n            <span className={classes.icon}>\r\n                <CartIcon />\r\n            </span>\r\n            <span>Your Cart</span>\r\n            <span className={classes.badge}>{numberOfItemsInCart}</span>\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","export default __webpack_public_path__ + \"static/media/table-hero.c4ea31f0.jpg\";","import { Fragment } from 'react';\r\nimport HeaderCartButton from './HeaderCartButton';\r\n\r\nimport classes from './Header.module.css';\r\nimport mealsImage from '../../assets/table-hero.jpg';\r\n\r\nconst Header = props => {\r\n    return (\r\n        <Fragment>\r\n            <header className={classes.header}>\r\n                <div className={classes.logo}>\r\n                    <h1>My takeaway</h1>\r\n                    <h5>by Yoav Hirshberg</h5>\r\n                </div>\r\n\r\n                <HeaderCartButton onToggleCart={props.onToggleCart} />\r\n            </header>\r\n            <div className={classes['main-image']}>\r\n                <img src={mealsImage} alt='A table full of food' />\r\n            </div>\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Header;","import classes from './MealsSummary.module.css';\r\n\r\nconst MealsSummary = () => {\r\n  return (\r\n    <section className={classes.summary}>\r\n      <h2>Delicious Food, Delivered To You</h2>\r\n      <p>\r\n        All those meals are fetched from Firebase through my custom hook! explore this little demo app\r\n        and submit your order- it will also be posted to Firebase!\r\n      </p>\r\n      <p>\r\n        This React project uses many key features like React Portal, the hooks useState, useContext, useReducer,\r\n        useEffect and useRef, but also two custom hooks which I built for this project to handle both HTTP requests\r\n        and the order-form.\r\n      </p>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default MealsSummary;","import classes from './Card.module.css';\r\n\r\nconst Card = props => {\r\n    return <div className={classes.card}>{props.children}</div>\r\n};\r\n\r\nexport default Card;","import React from 'react';\r\nimport classes from './Input.module.css';\r\n\r\nconst Input = React.forwardRef((props, ref) => {\r\n    return (\r\n        <div className={classes.input}>\r\n            <label htmlFor={props.input.id}>{props.label}</label>\r\n            <input ref={ref} {...props.input} />\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default Input;","import React, { useRef, useState } from 'react';\r\nimport Input from '../../UI/Input';\r\nimport classes from './MealItemForm.module.css';\r\n\r\nconst MealItemForm = props => {\r\n    const [isAmountValid, setIsAmountValid] = useState(true);\r\n    const amountInputRef = useRef();\r\n\r\n    const submitHandler = ev => {\r\n        ev.preventDefault();\r\n        const enteredAmount = amountInputRef.current.value;\r\n        const enteredAmountNumber = +enteredAmount;\r\n\r\n        if (enteredAmount.trim().length === 0 ||\r\n            enteredAmountNumber < 1 ||\r\n            enteredAmountNumber > 5\r\n        ) {\r\n            setIsAmountValid(false);\r\n            return;\r\n        };\r\n\r\n        props.onAddToCart(enteredAmountNumber);\r\n    };\r\n\r\n    return (\r\n        <form className={classes.form} onSubmit={submitHandler}>\r\n            <Input\r\n                ref={amountInputRef}\r\n                label=\"Amount\"\r\n                input={{\r\n                    id: 'amount',\r\n                    type: 'number',\r\n                    min: '1',\r\n                    max: '5',\r\n                    step: '1',\r\n                    defaultValue: '1'\r\n                }} />\r\n            <button >+ Add</button>\r\n            {!isAmountValid && <p>Please enter a valid amount (1-5).</p>}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default MealItemForm;","import { useContext } from 'react';\r\nimport MealItemForm from './MealItemForm';\r\nimport CartContext from '../../../store/cart-context';\r\nimport classes from './MealItem.module.css';\r\n\r\nconst MealItem = props => {\r\n    const price = `$${props.price.toFixed(2)}`;\r\n    const cartCtx = useContext(CartContext);\r\n\r\n    const addToCartHandler = amount => {\r\n        cartCtx.addItem({\r\n            id: props.id,\r\n            name: props.name,\r\n            amount: amount,\r\n            price: props.price\r\n        });\r\n    };\r\n\r\n    return (\r\n        <li className={classes.meal}>\r\n            <div>\r\n                <h3>{props.name}</h3>\r\n                <div className={classes.description} >{props.description}</div>\r\n                <div className={classes.price}>{price}</div>\r\n            </div>\r\n            <div>\r\n                <MealItemForm onAddToCart={addToCartHandler} />\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default MealItem;","import { useState, useCallback } from 'react';\r\n\r\nconst useHttp = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const sendRequest = useCallback(async (requestConfig, dataFunc) => {\r\n        setIsLoading(true);\r\n        setError(null);\r\n        try {\r\n            const response = await fetch(requestConfig.url, {\r\n                method: requestConfig.method ? requestConfig.method : 'GET',\r\n                headers: requestConfig.headers ? requestConfig.headers : {},\r\n                body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Cannot upload page');\r\n            };\r\n            const data = await response.json();\r\n            dataFunc(data);\r\n\r\n        } catch (err) {\r\n            setError(err.message || 'something went wrong');\r\n        }\r\n        setIsLoading(false);\r\n    }, []);\r\n\r\n    return {\r\n        isLoading,\r\n        error,\r\n        sendRequest,\r\n    };\r\n};\r\n\r\nexport default useHttp;","import { useEffect, useState } from 'react';\r\nimport Card from '../UI/Card';\r\nimport MealItem from './MealItem/MealItem';\r\nimport useHttp from '../../hooks/use-http';\r\nimport classes from './AvailableMeals.module.css';\r\n\r\nconst firebase_api = process.env.REACT_APP_GET_API_KEY;\r\n\r\nconst AvailableMeals = () => {\r\n    const [meals, setMeals] = useState([]);\r\n    const { isLoading, error: hasError, sendRequest: fetchMeals } = useHttp();\r\n\r\n    useEffect(() => {\r\n        const transformMealData = (dataObj) => {\r\n            const loadedMeals = [];\r\n            for (const key in dataObj) {\r\n                loadedMeals.push({\r\n                    id: key,\r\n                    title: dataObj[key].title,\r\n                    name: dataObj[key].name,\r\n                    description: dataObj[key].description,\r\n                    price: dataObj[key].price,\r\n                });\r\n            };\r\n            setMeals(loadedMeals);\r\n        };\r\n        fetchMeals({ url: firebase_api }, transformMealData);\r\n    }, [fetchMeals]);\r\n\r\n    const mealsList = meals.map(meal => {\r\n        return (\r\n            <MealItem\r\n                key={meal.id}\r\n                id={meal.id}\r\n                name={meal.name}\r\n                description={meal.description}\r\n                price={meal.price}\r\n            />\r\n        );\r\n    });\r\n\r\n    let content = <ul>{mealsList}</ul>\r\n    if (hasError) {\r\n        content = <ul>{hasError}</ul>\r\n    };\r\n    if (isLoading) {\r\n        content = <ul>Loading...</ul>\r\n    };\r\n\r\n    return (\r\n        <section className={classes.meals}>\r\n            <Card>\r\n                {content}\r\n            </Card>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default AvailableMeals;\r\n","import { Fragment } from 'react';\r\nimport MealsSummary from './MealsSummary';\r\nimport AvailableMeals from './AvailableMeals';\r\n\r\nconst Meals = () => {\r\n    return (\r\n        <Fragment>\r\n            <MealsSummary />\r\n            <AvailableMeals />\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Meals;","import classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n\n  return (\n    <li className={classes['cart-item']}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemoveItem}>−</button>\n        <button onClick={props.onAddItem}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import { Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport classes from './Modal.module.css';\r\n\r\nconst Backdrop = props => {\r\n    return <div className={classes.backdrop} onClick={props.onToggleCart} />;\r\n};\r\n\r\nconst ModalOverlay = props => {\r\n    return (\r\n        <div className={classes.modal}>\r\n            <div className={classes.content}>{props.children}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst portalElement = document.getElementById('overlay');\r\n\r\nconst Modal = props => {\r\n    return (\r\n        <Fragment>\r\n            {ReactDOM.createPortal(<Backdrop onToggleCart={props.onToggleCart} />, portalElement)}\r\n            {ReactDOM.createPortal(<ModalOverlay>\r\n                {props.children}\r\n            </ModalOverlay>, portalElement)}\r\n        </Fragment>\r\n    );\r\n};\r\n\r\nexport default Modal;","import { useState } from 'react';\r\n\r\nconst useInput = (validateValue) => {\r\n    const [isInputTouched, setIsInputTouched] = useState(false);\r\n    const [enteredValue, setEnteredValue] = useState('');\r\n    const isEnteredValueValid = validateValue(enteredValue);\r\n    const hasError = !isEnteredValueValid && isInputTouched;\r\n\r\n    const inputChangeHandler = ev => {\r\n        setEnteredValue(ev.target.value);\r\n    };\r\n\r\n    const inputBlurHandler = () => {\r\n        setIsInputTouched(true);\r\n    };\r\n\r\n    const clearInput = () => {\r\n        setEnteredValue('');\r\n        setIsInputTouched(false);\r\n    };\r\n\r\n    return {\r\n        value: enteredValue,\r\n        isValid: isEnteredValueValid,\r\n        hasError,\r\n        inputChangeHandler,\r\n        inputBlurHandler,\r\n        clearInput,\r\n    };\r\n};\r\n\r\nexport default useInput;","import useInput from '../../hooks/use-input';\r\nimport classes from './Checkout.module.css';\r\n\r\nconst checkIsNotEmpty = value => value.trim() !== '';\r\nconst checkIs16 = value => value.trim().length === 16;\r\n\r\nconst Checkout = props => {\r\n    const {\r\n        value: enteredName,\r\n        isValid: isNameValid,\r\n        hasError: nameHasError,\r\n        inputChangeHandler: nameChangeHandler,\r\n        inputBlurHandler: nameBlurHandler,\r\n        clearInput: clearNameInput,\r\n    } = useInput(checkIsNotEmpty);\r\n\r\n    const {\r\n        value: enteredStreet,\r\n        isValid: isStreetValid,\r\n        hasError: streetHasError,\r\n        inputChangeHandler: streetChangeHandler,\r\n        inputBlurHandler: streetBlurHandler,\r\n        clearInput: clearStreetInput,\r\n    } = useInput(checkIsNotEmpty);\r\n\r\n    const {\r\n        value: enteredCity,\r\n        isValid: isCityValid,\r\n        hasError: cityHasError,\r\n        inputChangeHandler: cityChangeHandler,\r\n        inputBlurHandler: cityBlurHandler,\r\n        clearInput: clearCityInput,\r\n    } = useInput(checkIsNotEmpty);\r\n\r\n    const {\r\n        value: enteredCreditCard,\r\n        isValid: isCardValid,\r\n        hasError: cardHasError,\r\n        inputChangeHandler: cardChangeHandler,\r\n        inputBlurHandler: cardBlurHandler,\r\n        clearInput: clearCardInput,\r\n    } = useInput(checkIs16);\r\n\r\n    const isFormValid =\r\n        isNameValid &&\r\n        isStreetValid &&\r\n        isCityValid &&\r\n        isCardValid;\r\n\r\n    const confirmOrderHandler = ev => {\r\n        ev.preventDefault();\r\n        if (!isFormValid) return;\r\n\r\n        props.onSubmitOrder({\r\n            name: enteredName,\r\n            street: enteredStreet,\r\n            postalCode: enteredCreditCard,\r\n            city: enteredCity\r\n        });\r\n\r\n        clearNameInput();\r\n        clearStreetInput();\r\n        clearCityInput();\r\n        clearCardInput();\r\n    };\r\n\r\n    const nameControlClasses = `${classes.control}\r\n     ${!nameHasError ? '' : classes.invalid}`;\r\n\r\n    const streetControlClasses = `${classes.control}\r\n     ${!streetHasError ? '' : classes.invalid}`;\r\n\r\n    const cityControlClasses = `${classes.control}\r\n     ${!cityHasError ? '' : classes.invalid}`;\r\n\r\n    const cardControlClasses = `${classes.control}\r\n     ${!cardHasError ? '' : classes.invalid}`;\r\n\r\n    return (\r\n        <form className={classes.form} onSubmit={confirmOrderHandler}>\r\n            <div className={nameControlClasses}>\r\n                <label htmlFor='name'>Your Name</label>\r\n                <input type='text' id='name' value={enteredName}\r\n                    onChange={nameChangeHandler}\r\n                    onBlur={nameBlurHandler}\r\n                />\r\n                {nameHasError && <p>Please enter your name.</p>}\r\n            </div>\r\n            <div className={streetControlClasses}>\r\n                <label htmlFor='street'>Street</label>\r\n                <input type='text' id='street' value={enteredStreet}\r\n                    onChange={streetChangeHandler}\r\n                    onBlur={streetBlurHandler}\r\n                />\r\n                {streetHasError && <p>Please enter a street.</p>}\r\n            </div>\r\n            <div className={cityControlClasses}>\r\n                <label htmlFor='city'>City</label>\r\n                <input type='text' id='city' value={enteredCity}\r\n                    onChange={cityChangeHandler}\r\n                    onBlur={cityBlurHandler}\r\n                />\r\n                {cityHasError && <p>Please enter your city.</p>}\r\n            </div>\r\n            <div className={cardControlClasses}>\r\n                <label htmlFor='credit-card'>Credit card</label>\r\n                <input type='text' id='credit-card' value={enteredCreditCard}\r\n                    onChange={cardChangeHandler}\r\n                    onBlur={cardBlurHandler}\r\n                />\r\n                {cardHasError && <p>Please enter your credit card.</p>}\r\n            </div>\r\n            <div className={classes.actions}>\r\n                <button type='button' onClick={props.onCancel}>\r\n                    Cancel\r\n        </button>\r\n                <button className={classes.submit}>Confirm</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Checkout;","import { useContext, useState, Fragment } from 'react';\r\nimport CartContext from '../../store/cart-context';\r\nimport CartItem from './CartItem';\r\nimport Modal from '../UI/Modal';\r\nimport Checkout from './Checkout';\r\nimport useHttp from '../../hooks/use-http';\r\n\r\nimport classes from './Cart.module.css';\r\n\r\nconst firebase_api = process.env.REACT_APP_POST_API_KEY;\r\n\r\nconst Cart = props => {\r\n    const [isCheckout, setIsCheckout] = useState(false);\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [didSubmitted, setDidIsSubmitted] = useState(false);\r\n    const cartCtx = useContext(CartContext);\r\n\r\n    const totalAmount = `$${cartCtx.totalAmount.toFixed(2)}`;\r\n    const hasItems = cartCtx.items.length > 0;\r\n\r\n    const addCartItemHandler = item => {\r\n        cartCtx.addItem({ ...item, amount: 1 });\r\n    };\r\n\r\n    const removeCartItemHamdler = id => {\r\n        cartCtx.removeItem(id);\r\n    };\r\n\r\n    const orderHandler = () => {\r\n        setIsCheckout(true);\r\n    };\r\n\r\n    const { sendRequest: confirmOrder } = useHttp();\r\n\r\n    const submitOrderHandler = (userData) => {\r\n        setIsSubmitting(true);\r\n        confirmOrder({\r\n            url: firebase_api,\r\n            method: 'POST',\r\n            headers: {},\r\n            body: {\r\n                name: userData.name,\r\n                street: userData.street,\r\n                postalCode: userData.postalCode,\r\n                city: userData.city,\r\n                orderDetails: cartCtx.items\r\n            },\r\n        })\r\n        setIsSubmitting(false);\r\n        setDidIsSubmitted(true);\r\n        cartCtx.clearCart();\r\n    };\r\n\r\n    const cartrItems = <ul className={classes['cart-items']}>\r\n        {cartCtx.items.map(item =>\r\n            <CartItem\r\n                key={item.id}\r\n                name={item.name}\r\n                amount={item.amount}\r\n                price={item.price}\r\n                onAddItem={addCartItemHandler.bind(null, item)}\r\n                onRemoveItem={removeCartItemHamdler.bind(null, item.id)}\r\n            />\r\n        )}\r\n    </ul>;\r\n\r\n    const modalActions = <div className={classes.actions}>\r\n        <button className={classes['button--alt']} onClick={props.onToggleCart}>\r\n            Close\r\n        </button>\r\n        {hasItems && <button className={classes.button} onClick={orderHandler} >\r\n            Order\r\n        </button>}\r\n    </div>\r\n\r\n    const modalContent = (\r\n        <Fragment>\r\n            {cartrItems}\r\n            <div className={classes.total}>\r\n                <span>Total Amount</span>\r\n                <span>{totalAmount}</span>\r\n            </div>\r\n            {isCheckout && <Checkout onSubmitOrder={submitOrderHandler} onCancel={props.onToggleCart} />}\r\n            {!isCheckout && modalActions}\r\n        </Fragment>\r\n        );\r\n\r\n    const isSubmittingModalContent = <p>Sending your order...</p>;\r\n    const didSubmittedModalContent = (\r\n        <Fragment>\r\n            <div className={classes.actions}>\r\n                <p>We got it!</p>\r\n                <button className={classes.button} onClick={props.onToggleCart}>\r\n                    Close\r\n                </button>\r\n            </div>\r\n        </Fragment>\r\n    );\r\n\r\n    return (\r\n        <Modal onToggleCart={props.onToggleCart}>\r\n            {!isSubmitting && !didSubmitted && modalContent}\r\n            {isSubmitting && !didSubmitted && isSubmittingModalContent}\r\n            {!isSubmitting && didSubmitted && didSubmittedModalContent}\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default Cart;","import { useReducer } from 'react';\r\nimport CartContext from './cart-context';\r\n\r\nconst defaultCartState = {\r\n    items: [],\r\n    totalAmount: 0\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n    if (action.type === 'ADD') {\r\n        const updatedTotalAmount = state.totalAmount + action.item.price * action.item.amount;\r\n\r\n        const existingCartItemIndex = state.items.findIndex(\r\n            (item) => item.id === action.item.id);\r\n\r\n        const existingCartItem = state.items[existingCartItemIndex];\r\n        let updatedItems;\r\n        if (existingCartItem) {\r\n            const updatedItem = {\r\n                ...existingCartItem,\r\n                amount: existingCartItem.amount + action.item.amount,\r\n            };\r\n            updatedItems = [...state.items];\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        } else {\r\n            updatedItems = state.items.concat(action.item);\r\n        };\r\n\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount\r\n        };\r\n    };\r\n\r\n    if (action.type === 'REMOVE') {\r\n        const existingCartItemIndex = state.items.findIndex(\r\n            (item) => item.id === action.id);\r\n        const existingCartItem = state.items[existingCartItemIndex];\r\n        const updatedTotalAmount = state.totalAmount - existingCartItem.price;\r\n        let updatedItems;\r\n        if (existingCartItem.amount === 1) {\r\n            updatedItems = state.items.filter(item => item.id !== action.id);\r\n        } else {\r\n            const updatedItem = { ...existingCartItem, amount: existingCartItem.amount - 1 };\r\n            updatedItems = [...state.items];\r\n            updatedItems[existingCartItemIndex] = updatedItem;\r\n        };\r\n        return {\r\n            items: updatedItems,\r\n            totalAmount: updatedTotalAmount\r\n        };\r\n    };\r\n\r\n    return defaultCartState;\r\n};\r\n\r\nconst CartProvider = props => {\r\n    const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\r\n\r\n    const addItemToCartHandler = item => {\r\n        dispatchCartAction({ type: 'ADD', item: item })\r\n    };\r\n    const removeItemFromCartHandler = id => {\r\n        dispatchCartAction({ type: 'REMOVE', id: id })\r\n    };\r\n\r\n    const clearCartHandler = () => {\r\n        dispatchCartAction({ type: 'CLEAR' });\r\n    };\r\n\r\n    const cartContext = {\r\n        items: cartState.items,\r\n        totalAmount: cartState.totalAmount,\r\n        addItem: addItemToCartHandler,\r\n        removeItem: removeItemFromCartHandler,\r\n        clearCart: clearCartHandler,\r\n    };\r\n\r\n    return (\r\n        <CartContext.Provider value={cartContext}>\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    );\r\n};\r\n\r\nexport default CartProvider;\r\n","import React, { useState } from 'react';\nimport Header from './components/Layout/Header';\nimport Meals from './components/Meals/Meals';\nimport Cart from './components/Cart/Cart';\nimport CartProvider from './store/CartProvider';\n\nconst App = () => {\n  const [isCartShown, setIsCartShown] = useState(false);\n  const [isInOrder, setIsInOrder] = useState(false);\n\n  const toggleCartHandler = () => {\n    !isCartShown ? setIsCartShown(true) : setIsCartShown(false);\n  };\n\n  const toggleConfirmOrderHandler = () => {\n    !isInOrder ? setIsInOrder(true) : setIsInOrder(false);\n    setIsCartShown(!isCartShown);\n  };\n\n  return (\n    <CartProvider>\n      {isCartShown && <Cart\n        onToggleCart={toggleCartHandler}\n        onToggleOrder={toggleConfirmOrderHandler}\n      />}\n      <Header onToggleCart={toggleCartHandler} />\n      <main>\n        <Meals />\n      </main>\n    </CartProvider>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nrequire('dotenv').config();\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}